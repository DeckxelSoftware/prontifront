<div class="card-mlab">

  <!--  <div class="row">-->
  <!--    <div class="col-sm-10">-->
  <!--      <app-form-container-->
  <!--        [fieldsArray]="searchBarFormFields"-->
  <!--        (fieldChanged)="searchFieldChanged($event)"-->
  <!--        (autoCompleteChangedEmitter)="searchAutoComplete($event)"-->
  <!--      ></app-form-container>-->
  <!--    </div>-->
  <!--    <div class="col-sm-2">-->
  <!--      <button-->
  <!--        type="button"-->
  <!--        class="btn btn-primary btn-sm float-end boton-busqueda"-->
  <!--        (click)="searchData()"-->
  <!--        [disabled]="searchButtonDisabled"-->
  <!--      >-->
  <!--        Buscar-->
  <!--      </button>-->
  <!--    </div>-->
  <!--  </div>-->
  <!--</div>-->
  <div class="row">
    <br/>
  </div>


  <div class="row">
    <div class="col-sm-12">
      <p-table
        [value]="tableData"
        [dataKey]="'id'"
        [rows]="startingRows"
        [paginator]="true"
        [lazy]="true"
        (onLazyLoad)="lazyLoad($event)"
        [totalRecords]="totalRecords"
        [rowsPerPageOptions]="rowsPerPage"
      >

        <!--        <ng-template pTemplate="caption">-->
        <!--          <div class="p-d-flex p-ai-center p-jc-between">-->
        <!--            <span class="fw-bolder texto-titulo-tabla">Configuración General</span>-->
        <!--          </div>-->
        <!--        </ng-template>-->
        <ng-template pTemplate="header">
          <tr>
            <th>Información</th>
            <th>Cuotas</th>
            <th>Aportes y sueldos</th>
            <th>Otros</th>
            <th> Acciones</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-registro let-expanded="expanded">
          <tr
            [class]="registro.sisHabilitado ? '' : 'back-deshabilitado'">
            <!--            <td>-->
            <!--              <button-->
            <!--                type="button"-->
            <!--                pButton-->
            <!--                pRipple-->
            <!--                [pRowToggler]="registro"-->
            <!--                class="p-button-text p-button-rounded p-button-plain"-->
            <!--                [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"-->
            <!--              ></button>-->
            <!--            </td>-->
            <td>

              <p>
                <b>Iva porcentaje:</b>
                {{ registro.ivaPorcentaje }} %
              </p>

              <p>
                <b>Tasa de cambio contrato:</b>
                {{ registro.tasaCambioContrato }} %
              </p>

              <p>
                <b>Tasa de cargo adjudicación:</b>
                {{ registro.tasaCargoAdjudicacion }} %
              </p>

              <p>
                <b>Máximos contratos en grupo: </b>
                {{ registro.maxContratosEnGrupo }}
              </p>

              <p>
                <b>Días de vacaciones al año:</b>
                {{ registro.numDiasVacacionesAlAnio}}
              </p>

            </td>


            <td>

              <p>
                <b>Mínimo cuota mora refinanciamiento:</b>
                {{ registro.minCuotaMoraRefinanciamiento }}
              </p>

              <p>
                <b>Cuota administrativa:</b>
                {{ registro.cuotaAdministrativa | currency }}
              </p>

            </td>

            <td>
              <p>
                <b>Aporte patronal IESS:</b>
                {{ registro.aportePatronalIess | currency }}
              </p>


              <p>
                <b>Aporte personal IESS:</b>
                {{ registro.aportePersonalIess | currency }}
              </p>


              <p>
                <b>Sueldo básico:</b>
                {{ registro.sueldoBasico | currency }}
              </p>



            </td>
            <td>
             <p><b>Rastreo: </b>{{registro.rastreo}}</p>
              <p><b>Dispositivo: </b>{{registro.dispositivo}}</p>
              <p><b>Elaborador Rol: </b>{{registro.elaboradorRol}}</p>
              <p><b>Revisor Rol: </b>{{registro.revisorRol}}</p>

            </td>


            <td style="text-align: center">
              <div>

                <button type="button" class="btn btn-sm btn-warning" (click)="createOrEdit(false,registro)">
                  Editar
                </button>
                <div class="espaciador"></div>

                <button type="button" class="btn btn-sm btn-warning" (click)="createOrEdit(true,registro)">
                  Editar IVA
                </button>
                <div class="espaciador"></div>

              </div>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-registro>
          <tr>
            <!-- El colspan tiene que ser igual al numero de columnas-->
            <td colspan="5">
              <app-configuracion-general-perfil [registro]="registro"></app-configuracion-general-perfil>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <!-- El colspan tiene que ser igual al numero de columnas-->
            <td colspan="5">No hay información.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>


